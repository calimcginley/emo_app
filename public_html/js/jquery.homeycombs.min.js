(function(a){a.fn.honeycombs=function(b){var c=a.extend({combWidth:124,margin:2},b);function d(j){a(j).addClass("honeycombs-wrapper");var h=0;var f=0;var i=0;var k=0;var l=null;function m(){a(j).find(".comb").wrapAll('<div class="honeycombs-inner-wrapper"></div>');l=a(j).find(".honeycombs-inner-wrapper");a(j).find(".comb").append('<div class="hex_l"></div>');a(j).find(".hex_l").append('<div class="hex_r"></div>');a(j).find(".hex_r").append('<div class="hex_inner"></div>');a(j).find(".hex_inner").append('<div class="inner_span"><div class="inner-text"></div></div>');k=0;a(j).find(".comb").each(function(){k=k+1;var o=a(this).find("img").attr("src");var n='url("'+o+'") ';a(this).find(".hex_inner").attr("style","background-image: "+n);if(a(this).find("span").length>0){a(this).find(".inner_span .inner-text").html(a(this).find("span").html())}else{a(this).find(".inner_span").remove()}});a(j).find("img, span, .inner_span").hide()}function g(){f=c.combWidth;i=(Math.sqrt(3)*f)/2;edgeWidth=f/2;a(j).find(".comb").width(f).height(i);a(j).find(".hex_l, .hex_r").width(f).height(i);a(j).find(".hex_inner").width(f).height(i)}function e(n){g();h=a(j).width();newWidth=(k/1.5)*c.combWidth;if(newWidth<h){h=newWidth}l.width(h);var s=0;var o=1;var r=0;var q=0;var p=0;a(j).find(".comb").each(function(t){q=(s*(i+c.margin))+(o*(i/2+(c.margin/2)));if(n==true){a(this).stop(true,false);a(this).animate({left:r,top:q})}else{a(this).css("left",r).css("top",q)}r=r+(f-f/4+c.margin);o=(o+1)%2;if(s==0){p=p+1}if(r+f>h){r=0;s=s+1;o=1}});l.width(p*(f/4*3+c.margin)+f/4).height((s+1)*(i+c.margin)+i/2)}a(window).resize(function(){e(true)});a(j).find(".comb").mouseenter(function(){a(this).find(".inner_span").stop(true,true);a(this).find(".inner_span").fadeIn()});a(j).find(".comb").mouseleave(function(){a(this).find(".inner_span").stop(true,true);a(this).find(".inner_span").fadeOut()});m();e(false)}return this.each(function(){d(this)})};a(document).on("pageshow","#profilePage",function(){a(".honeycombs").honeycombs()})}(jQuery));